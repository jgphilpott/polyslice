# G-code Visualizer

A browser-based tool to visualize G-code files using Three.js. This tool can visualize any G-code file, whether or not it was generated by Polyslice.

## Features

### Upload and Visualize

Upload any G-code file (`.gcode`, `.gco`, `.nc`) to visualize the tool paths in 3D.

### Color-Coded Movements

Different types of movements are displayed in different colors for easy identification:

- **Green**: Travel moves (G0 - non-extruding movements)
- **Red**: Extrusion moves (G1 - extruding movements)
- **Yellow**: Arc movements (G2/G3)

### Interactive Controls

- **Orbit**: Click and drag with left mouse button to rotate the view
- **Zoom**: Scroll wheel to zoom in and out
- **Pan**: Click and drag with right mouse button (or Ctrl + left mouse button) to pan the view

### View Information

The info panel displays:
- Current filename
- Total line segments
- Number of travel moves
- Number of extrusion moves

### Reset View

Click the reset button to center the camera on the G-code visualization.

## Usage

1. Open the [G-code Visualizer](https://jgphilpott.github.io/polyslice/serial/browser/visualizer.html) in your browser
2. Click the **Upload** button to select a G-code file from your computer
3. The G-code will be parsed and visualized in 3D
4. Use your mouse to:
   - **Rotate**: Left-click and drag
   - **Zoom**: Scroll wheel
   - **Pan**: Right-click and drag (or Ctrl + left-click and drag)

## Compatibility

This tool requires a modern web browser that supports:
- ES6 modules
- Import maps
- WebGL

Tested browsers:
- Chrome/Edge 89+
- Firefox 108+
- Safari 16.4+

## Technical Details

The visualizer uses:
- **Three.js**: 3D rendering engine
- **GCodeLoader**: Three.js loader for parsing G-code files
- **OrbitControls**: Camera controls for 3D navigation

## Examples

### Visualizing Polyslice Output

You can use this tool to debug and validate G-code generated by Polyslice:

```javascript
// Generate G-code with Polyslice
const slicer = new Polyslice();
const gcode = slicer.codeAutohome() +
              slicer.codeLinearMovement(10, 10, 0.2, 0.1, 1500) +
              slicer.codeLinearMovement(20, 20, 0.2, 0.1, 1500);

// Save to file and upload to visualizer
const blob = new Blob([gcode], { type: 'text/plain' });
const url = URL.createObjectURL(blob);
// Download and then upload to visualizer
```

### Analyzing Print Paths

Use the color coding to:
- Identify travel moves that could be optimized
- Verify extrusion paths are correct
- Check layer alignment and structure
- Debug printing issues before actual printing

## Troubleshooting

### File Won't Load

- Check that the file is a valid G-code file with `.gcode`, `.gco`, or `.nc` extension
- Ensure the file contains valid G-code commands
- Try a smaller file to test if it's a size issue

### Performance Issues

- Large G-code files (>10MB) may take time to load and render
- Try closing other browser tabs to free up memory
- Use a more powerful device if visualization is slow

### Visualization Looks Wrong

- Make sure the G-code file is not corrupted
- Check that the G-code uses standard commands (G0, G1, G28, etc.)
- The visualizer assumes absolute positioning mode

## Future Enhancements

Planned features:
- Layer-by-layer navigation
- Time estimation display
- Filament usage calculation
- Animation of print path
- Export visualization as image/video
- Support for more G-code commands (G2/G3 arcs, G5 bezier)
- Temperature and speed visualization

## Related Tools

- [Web G-code Sender](../sender.html): Send G-code directly to your 3D printer via serial connection
- [Polyslice](https://github.com/jgphilpott/polyslice): Generate G-code from Three.js meshes
